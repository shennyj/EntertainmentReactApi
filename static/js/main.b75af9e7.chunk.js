(this.webpackJsonpreactmovieapiv2=this.webpackJsonpreactmovieapiv2||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(19),r=a.n(s),i=(a(69),a(20)),o=a(3),l=a(1);function d(){return Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("h1",{onClick:function(){return window.scroll(0,0)},style:{cursor:"pointer"},className:"headerTitle",children:"John's Entertainment"})})}var b=a(119),j=a(121),u=a(122),p=a(57),h=a.n(p),O=a(58),v=a.n(O),m=a(25),f=a.n(m),g=a(6),x=Object(b.a)({root:{width:"100%",position:"fixed",bottom:0,backgroundColor:"#8e44ad",zIndex:100}});function w(){var e=x(),t=c.a.useState(0),a=Object(o.a)(t,2),s=a[0],r=a[1],i=Object(g.f)();return Object(n.useEffect)((function(){0===s?i.push("/"):1===s?i.push("/movies"):2===s&&i.push("/watchlist")}),[s,i]),Object(l.jsxs)(j.a,{value:s,onChange:function(e,t){r(t)},showLabels:!0,className:e.root,children:[Object(l.jsx)(u.a,{style:{color:"white"},label:"Trending",icon:Object(l.jsx)(h.a,{})}),Object(l.jsx)(u.a,{style:{color:"white"},label:"Entertainment",icon:Object(l.jsx)(v.a,{})}),Object(l.jsx)(u.a,{style:{color:"white"},label:"Watch List",icon:Object(l.jsx)(f.a,{})})]})}var _=a(125),y=a(42),N=a(16),S=a.n(N),k=a(23),C=a.n(k),I=a(33),T="https://image.tmdb.org/t/p/w300",E="https://image.tmdb.org/t/p/w500",L="https://www.movienewz.com/img/films/poster-holder.jpg",P=a(37),M=a.n(P),W={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)",backgroundColor:"#282828",border:"1px solid #282c34",borderRadius:10,color:"white",padding:"20px",zIndex:999,width:"80%",height:"70%",cursor:"default",justifyContent:"center",display:"flex",alignItems:"center"},G={position:"fixed",left:0,right:0,top:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",zindex:999};function R(e){var t=e.children,a=e.open,n=e.onClose;return a?r.a.createPortal(Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{style:G}),Object(l.jsxs)("div",{style:W,children:[t,Object(l.jsx)("button",{className:"closeModal",onClick:function(){return n()},children:Object(l.jsx)(M.a,{className:"closeModalIcon"})})]})]}),document.getElementById("portal")):null}var B=a(59),A=a.n(B),D=a(123);function U(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(),i=Object(o.a)(r,2),d=i[0],b=i[1],j=Object(n.useState)(),u=Object(o.a)(j,2),p=u[0],h=u[1],O=Object(n.useContext)(te).handleWatchList,v=e.id,m=e.poster,g=e.title,x=(e.date,e.media_type),w=e.vote_average,_=e.overview,y=e.item;function N(){return(N=Object(I.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("https://api.themoviedb.org/3/".concat(x,"/").concat(v,"?api_key=16d41bd6f4b1ba5b5290a927552cb29d&language=en-US"));case 2:t=e.sent,b(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(I.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("https://api.themoviedb.org/3/".concat(x,"/").concat(v,"/videos?api_key=16d41bd6f4b1ba5b5290a927552cb29d&language=en-US"));case 2:a=e.sent,h(null===(t=a.data.results[0])||void 0===t?void 0:t.key);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){s(!c)}return Object(n.useEffect)((function(){!function(){N.apply(this,arguments)}(),function(){k.apply(this,arguments)}()}),[]),Object(l.jsxs)("div",{className:"media",onClick:P,children:[Object(l.jsx)("img",{className:"poster",src:m?"".concat(T,"/").concat(m):{unavailable:L},alt:g}),Object(l.jsx)("strong",{className:"title",children:g}),Object(l.jsxs)("span",{className:"mediaType mediaData",children:["tv"===x?"TV Series":"Movie",Object(l.jsx)("span",{className:"voteAverage",style:{color:w>8?"lightgreen":w>6?"lightblue":"red"},children:w})]}),Object(l.jsx)("div",{className:"movie-over",children:Object(l.jsx)("p",{children:_})}),Object(l.jsx)(R,{className:"modal",open:c,onClose:P,children:d&&Object(l.jsxs)("div",{className:"contentModal",children:[Object(l.jsx)("img",{className:"contentPortrait",src:d.poster_path?"".concat(E,"/").concat(d.poster_path):L,alt:d.name||d.title}),Object(l.jsx)("img",{className:"contentLandscape",src:d.backdrop_path?"".concat(E,"/").concat(d.backdrop_path):L,alt:d.name||d.title}),Object(l.jsxs)("div",{className:"contentModalAbout",children:[Object(l.jsxs)("span",{className:"contentModalTitle",children:[d.name||d.title," (",(d.first_air_date||d.release_date||"-----").substring(0,4),")"]}),d.tagline&&Object(l.jsx)("i",{className:"tagline",children:d.tagline}),Object(l.jsx)("span",{className:"contentModalDescription",children:d.overview}),Object(l.jsx)("div",{}),Object(l.jsx)(D.a,{variant:"contained",startIcon:Object(l.jsx)(A.a,{}),color:"secondary",target:"_blank",href:"https://www.youtube.com/watch?v=".concat(p),children:"Watch the Trailer"}),Object(l.jsx)(D.a,{className:"watchButton",color:"primary",variant:"contained",startIcon:Object(l.jsx)(f.a,{}),onClick:function(){O(y)},children:"Add to WatchList"})]})]})})]})}function z(e){var t=e.goToPrevPage,a=e.goToNextPage;return Object(l.jsxs)("div",{className:"paginationURL",children:[t&&Object(l.jsx)("button",{className:"prevButton",onClick:function(){t(),window.scroll(0,0)},children:"Previous"}),a&&Object(l.jsx)("button",{className:"nextButton",onClick:function(){a(),window.scroll(0,0)},children:"Next"})]})}function J(){var e,t,a,c=Object(n.useState)([]),s=Object(o.a)(c,2),r=s[0],i=s[1],d=Object(n.useState)(1),b=Object(o.a)(d,2),j=b[0],u=b[1],p=Object(n.useState)("https://api.themoviedb.org/3/trending/all/week?api_key=16d41bd6f4b1ba5b5290a927552cb29d&page=".concat(j)),h=Object(o.a)(p,2),O=h[0],v=h[1],m=Object(n.useState)(),f=Object(o.a)(m,2),g=f[0],x=f[1],w=Object(n.useState)(),_=Object(o.a)(w,2),y=_[0],N=_[1],k=Object(n.useState)(!0),C=Object(o.a)(k,2),I=(C[0],C[1]);return Object(n.useEffect)((function(){return I(!0),S.a.get("\n            ".concat(O),{cancelToken:new S.a.CancelToken((function(e){return a=e}))}).then((function(a){I(!1),e=parseInt(j)+parseInt(1),t=parseInt(j)-parseInt(1),x("https://api.themoviedb.org/3/trending/all/week?api_key=16d41bd6f4b1ba5b5290a927552cb29d&page=".concat(e)),N("https://api.themoviedb.org/3/trending/all/week?api_key=16d41bd6f4b1ba5b5290a927552cb29d&page=".concat(t)),i(a.data.results)})),function(){return a()}}),[j]),Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{className:"pageTitle",children:"Trending"}),Object(l.jsx)("div",{className:"trending",children:r&&r.map((function(e){return Object(l.jsx)(U,{id:e.id,poster:e.poster_path,title:e.title||e.name,date:e.release_date||e.first_air_date,media_type:e.media_type,vote_average:e.vote_average,overview:e.overview,item:e},e.id)}))}),Object(l.jsx)(z,{goToNextPage:j>=1e3?null:function(){v(g),u(parseInt(j)+parseInt(1))},goToPrevPage:j<=1?null:function(){v(y),u(parseInt(j)-parseInt(1))}})]})}var V=a(11);function H(e){var t,a=e.name,c=e.genre,s=e.handleAddGenre,r=e.handleRemoveGenre,i=Object(n.useState)(!1),d=Object(o.a)(i,2),b=d[0],j=d[1];return Object(l.jsx)("div",{className:"genre",style:{backgroundColor:b&&"lightblue"},children:Object(l.jsx)("span",(t={className:"genreSpan",onClick:function(){s(c),b&&r(c),j(!b)},style:{backgroundColor:b&&"lightblue"}},Object(V.a)(t,"className","genreName"),Object(V.a)(t,"children",a),t))})}function F(e){var t=e.type,a=e.genres,c=e.setGenres,s=e.selectedGenres,r=e.setSelectedGenres;function o(e){s.some((function(t){return t.name==e.name}))||r([].concat(Object(i.a)(s),[e]))}function d(e){r(s.filter((function(t){return t.id!==e.id})))}return Object(n.useEffect)((function(){var e;return S.a.get("https://api.themoviedb.org/3/genre/".concat(t,"/list?api_key=16d41bd6f4b1ba5b5290a927552cb29d&language=en-US"),{cancelToken:new S.a.CancelToken((function(t){return e=t}))}).then((function(e){c(e.data.genres)})),function(){return e()}}),[a]),Object(l.jsx)("div",{className:"genreDiv",children:a&&a.map((function(e){return Object(l.jsx)(H,{genre:e,name:e.name,handleAddGenre:o,handleRemoveGenre:d},e.id)}))})}function Y(e){e.isOpen,e.setIsOpen,e.handleModal;var t,a,c,s=Object(n.useState)(0),r=Object(o.a)(s,2),i=r[0],d=r[1],b=Object(n.useState)([]),j=Object(o.a)(b,2),u=j[0],p=j[1],h=Object(n.useState)(1),O=Object(o.a)(h,2),v=O[0],m=O[1],f=Object(n.useState)(),g=Object(o.a)(f,2),x=g[0],w=g[1],_=Object(n.useState)(),y=Object(o.a)(_,2),N=y[0],k=y[1],T=Object(n.useState)(!0),E=Object(o.a)(T,2),L=(E[0],E[1]),P=Object(n.useState)([]),M=Object(o.a)(P,2),W=M[0],G=M[1],R=Object(n.useState)([]),B=Object(o.a)(R,2),A=B[0],D=B[1],J=function(e){return e.length<1?"":e.map((function(e){return e.id})).reduce((function(e,t){return e+","+t}))}(W),V=Object(n.useState)("https://api.themoviedb.org/3/discover/movie?api_key=16d41bd6f4b1ba5b5290a927552cb29d&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=".concat(v,"&with_genres=").concat(J)),H=Object(o.a)(V,2),Y=(H[0],H[1]),q=Object(n.useState)(""),K=Object(o.a)(q,2),Q=K[0],X=K[1],Z=Object(n.useState)(!0),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(!1),ne=Object(o.a)(ae,2),ce=ne[0],se=ne[1];function re(){return ie.apply(this,arguments)}function ie(){return(ie=Object(I.a)(C.a.mark((function e(){var n,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,S.a.get("https://api.themoviedb.org/3/discover/".concat(i?"tv":"movie","?api_key=16d41bd6f4b1ba5b5290a927552cb29d&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(v,"&with_genres=").concat(J),{cancelToken:new S.a.CancelToken((function(e){return c=e}))}).then((function(e){return e.data}));case 3:n=e.sent,L(!1),t=parseInt(v)+parseInt(1),a=parseInt(v)-parseInt(1),w("https://api.themoviedb.org/3/discover/".concat(i?"tv":"movie","?api_key=16d41bd6f4b1ba5b5290a927552cb29d&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(t,"&with_genres=").concat(J)),k("https://api.themoviedb.org/3/discover/".concat(i?"tv":"movie","?api_key=16d41bd6f4b1ba5b5290a927552cb29d&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=").concat(a,"&with_genres=").concat(J)),s=[],Q.length>0?(n.results.forEach((function(e){i?i&&e.original_name.toLowerCase().includes(Q.toLowerCase())&&s.push(e):e.original_title.toLowerCase().includes(Q.toLowerCase())&&s.push(e)})),p(s)):p(n.results);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return re(),function(){return c()}}),[v,J,Q,i]),Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{className:"pageTitle",children:"ENTERTAINMENT"}),Object(l.jsx)(F,{type:i?"tv":"movie",selectedGenres:W,setSelectedGenres:G,genres:A,setGenres:D}),Object(l.jsxs)("div",{className:"tabsDiv",children:[Object(l.jsx)("span",{style:{borderBottom:ee?"1px solid white":"none"},onClick:function(){d(0),te(!ee),ce&&se(!ce)},className:"movieTab",children:"SEARCH MOVIES"}),Object(l.jsx)("span",{style:{borderBottom:ce?"1px solid white":"none"},onClick:function(){d(1),se(!ce),ee&&te(!ee)},className:"tvTab",children:"SEARCH TV SERIES"})]}),Object(l.jsx)("div",{className:"formDiv",children:Object(l.jsx)("input",{class:"searchInput",type:"text",placeHolder:"Search...",onChange:function(e){X(e.target.value),re()}})}),Object(l.jsx)("div",{className:"trending",children:u&&u.map((function(e){return Object(l.jsx)(U,{id:e.id,poster:e.poster_path,title:e.original_title||e.original_name,date:e.release_date||e.first_air_date,media_type:i?"tv":"movie",vote_average:e.vote_average,overview:e.overview,item:e},e.id)}))}),u.length>0&&Object(l.jsx)(z,{goToNextPage:v>=1e3?null:function(){Y(x),m(parseInt(v)+parseInt(1))},goToPrevPage:v<=1?null:function(){Y(N),m(parseInt(v)-parseInt(1))}})]})}var q=a(124),K={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)",backgroundColor:"#282828",border:"1px solid #282c34",borderRadius:10,color:"white",padding:"20px",zIndex:999,width:"30%",height:"10%",cursor:"default",justifyContent:"center",display:"flex",alignItems:"center"},Q={position:"fixed",left:0,right:0,top:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",zindex:999};function X(e){var t=e.children,a=e.open,n=e.onClose;return a?r.a.createPortal(Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{style:Q}),Object(l.jsxs)("div",{style:K,children:[t,Object(l.jsx)("button",{className:"closeModal",onClick:function(){return n()},children:Object(l.jsx)(M.a,{className:"closeModalIcon"})})]})]}),document.getElementById("portal")):null}function Z(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],s=a[1],r=Object(n.useContext)(te).handleDeleteWatch,i=(e.id,e.poster),d=e.title,b=e.date,j=e.media_type,u=e.vote_average,p=e.overview,h=e.item;function O(){s(!c)}return Object(l.jsxs)("div",{className:"media",onClick:O,children:[Object(l.jsx)(q.a,{className:"badge",badgeContent:u,color:u>6?"primary":"error"}),Object(l.jsx)("img",{className:"poster",src:i?"".concat(T,"/").concat(i):L,alt:d}),Object(l.jsx)("strong",{className:"title",children:d}),Object(l.jsxs)("span",{className:"mediaType mediaData",children:["tv"===j?"TV Series":"Movie",Object(l.jsx)("span",{className:"date",children:b})]}),Object(l.jsx)("div",{className:"movie-over",children:Object(l.jsx)("p",{children:p})}),Object(l.jsx)(X,{open:c,onClose:O,children:Object(l.jsx)(D.a,{className:"deleteWatchButton",color:"secondary",variant:"contained",startIcon:Object(l.jsx)(f.a,{}),onClick:function(){r(h)},children:"Remove from WatchList"})})]})}function $(){var e=Object(n.useContext)(te),t=(e.handleWatchList,e.watchList);e.setWatchList;return Object(l.jsxs)("div",{className:"watchList",children:[Object(l.jsx)("span",{className:"pageTitle",children:"Your Watch List"}),Object(l.jsx)("div",{className:"trending",children:t.map((function(e){return Object(l.jsx)(Z,{id:e.id,poster:e.poster_path,title:e.title||e.name,date:e.release_date||e.first_air_date,media_type:e.media_type,vote_average:e.vote_average,overview:e.overview,item:e},e.id)}))})]})}var ee="watchList.content",te=c.a.createContext();function ae(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){var e=localStorage.getItem(ee);null!=e&&c(JSON.parse(e))}),[]),Object(n.useEffect)((function(){localStorage.setItem(ee,JSON.stringify(a))}),[a]);var s={handleWatchList:function(e){var t=[].concat(Object(i.a)(a),[e]),n=new Set,s=t.filter((function(e){var t=n.has(e.id);return n.add(e.id),!t}));c(s)},setWatchList:c,watchList:a,handleDeleteWatch:function(e){var t=a.filter((function(t){return t!==e}));c(t)}};return Object(l.jsx)(te.Provider,{value:s,children:Object(l.jsxs)(y.a,{children:[Object(l.jsx)(d,{}),Object(l.jsx)("div",{className:"app",children:Object(l.jsx)(_.a,{children:Object(l.jsxs)(g.c,{children:[Object(l.jsx)(g.a,{exact:!0,path:"/",children:Object(l.jsx)(J,{})}),Object(l.jsx)(g.a,{path:"/movies",children:Object(l.jsx)(Y,{})}),Object(l.jsx)(g.a,{path:"/watchlist",children:Object(l.jsx)($,{})})]})})}),Object(l.jsx)(w,{})]})})}r.a.render(Object(l.jsx)(ae,{}),document.getElementById("root"))},69:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.b75af9e7.chunk.js.map